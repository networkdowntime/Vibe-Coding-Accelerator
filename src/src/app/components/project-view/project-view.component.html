<div class="project-view-container">
  <header class="bg-white shadow rounded-xl mb-6 p-6">
    <div class="!flex !justify-between !items-center !w-full mb-4" style="display: flex !important; justify-content: space-between !important;">
      <nav class="breadcrumb-nav">
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a routerLink="/" class="text-blue-600 hover:text-blue-800">Projects</a>
          </li>
          <li class="breadcrumb-separator">/</li>
          <li class="breadcrumb-item active">{{ projectId || 'Unknown Project' }}</li>
        </ol>
      </nav>
      <a [routerLink]="['/settings']" [queryParams]="{ returnUrl: '/project/' + projectId }" class="settings-icon" title="Settings">
        <i class="fas fa-cog"></i>
      </a>
    </div>
    <div class="project-title-section">
      <div class="project-title-with-actions">
        <h1 class="text-xl font-semibold text-gray-800">Project: {{ projectId || 'Unknown' }}</h1>
        <div class="project-actions">
          <button 
            class="icon-btn edit-btn" 
            (click)="editProjectName()" 
            title="Edit project name"
            type="button">
            <i class="fas fa-edit"></i>
          </button>
          <button 
            class="icon-btn delete-btn" 
            (click)="deleteProject()" 
            title="Delete project"
            type="button">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
    </div>
  </header>
  
  <!-- Error Message Display -->
  <div *ngIf="errorMessage" class="error-banner">
    <span class="error-icon">❌</span>
    {{ errorMessage }}
    <button class="close-error" (click)="errorMessage = ''" type="button">×</button>
  </div>
  
  <main class="content">
    <div class="project-details">
      
      <!-- AI Agent Configuration Section -->
      <section class="agent-config-section">
        <h2>AI Agent Configuration</h2>
        <app-agent-select 
          [projectName]="projectId || ''"
          (agentChanged)="onAgentChanged($event)"
          (techStackChanged)="onTechStackChanged($event)"
          (error)="onAgentError($event)">
        </app-agent-select>
      </section>
      
      <!-- File Management Section -->
      <section class="file-management-section">
        <app-file-list 
          [projectName]="projectId || ''"
          (fileUploaded)="onFileUploaded()"
          (fileUpdated)="onFileUpdated()"
          (error)="onFileError($event)">
        </app-file-list>
      </section>
    </div>
  </main>
</div>
